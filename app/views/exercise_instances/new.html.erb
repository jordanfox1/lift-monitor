<header class="today-date-container">
  <%= link_to new_exercise_log_exercise_instance_path(start_time: (params[:start_time] ? (Date.parse(params[:start_time])) - 1 : Date.today - 1)), class: 'create-exercise-instance-link' do %>
    <
  <% end %>
  <strong class="date">TODAY, DATE</strong>
  <%= link_to new_exercise_log_exercise_instance_path(start_time: (params[:start_time] ? (Date.parse(params[:start_time])) + 1 : Date.today + 1)), class: 'create-exercise-instance-link' do %>
    >
  <% end %>
</header>

<article class="timer-container" data-controller="timer" data-target-time="60"> 
  <button data-action="click->timer#decrementTimerBy20">-</button>
  <button>start/pause</button>
  <span data-timer-target="display"></span>
  <button data-action="click->timer#incrementTimerBy20">+</button>
</article>

<div
    data-controller="timer"
    data-timer-from-value="2022-03-08T10:41:32.111Z"
    data-timer-to-value="2022-03-09T11:10:32.111Z">
<div style="display: none" data-timer-target="before">
  Deal will start on <time data-timer-target="fromTime"></time>
</div>
<div style="display: none" data-timer-target="during">
  Deal is active <time data-timer-target="toTimeRelative"></time>
</div>
<div style="display: none" data-timer-target="after">
  Deal ended on <time data-timer-target="toTime"></time>
</div>
</div>

<section class="dynamic-card-container">
  <% current_date = params[:start_time] ? Date.parse(params[:start_time]) : Date.today %>

  <% if @filtered_exercises_for_date.any? %>
    <h2>Exercises for <%= current_date %></h2>
    <section class="exercise_instance_card">
      <% @filtered_exercises_for_date.each do |ei| %>
        <div>
          <strong> <%= ei.exercise.name %> </strong>
          <% if ei.is_pr %>
            <span>personal best!</span>
          <% end %>

          <% if ei.exercise.category.name == 'Chest' %>
            <span>reps: <%= ei.reps %></span>
            <span>weight: <%= ei.weight %>kg</span>
          <% end %>
          <% if ei.exercise.category.name == 'Legs' %>
            <span>reps: <%= ei.reps %></span>
            <span>weight: <%= ei.weight %>kg</span>
          <% end %>
          <% if ei.exercise.category.name == 'Arms' %>
            <span>reps: <%= ei.reps %></span>
            <span>weight: <%= ei.weight %>kg</span>
          <% end %>
          <% if ei.exercise.category.name == 'Back' %>
            <span>reps: <%= ei.reps %></span>
            <span>weight: <%= ei.weight %>kg</span>
          <% end %>
          <% if ei.exercise.category.name == 'Shoulders' %>
            <span>reps: <%= ei.reps %></span>
            <span>weight: <%= ei.weight %>kg</span>
          <% end %>
          <% if ei.exercise.category.name == 'Core' %>
            <span>reps: <%= ei.reps %></span>
            <span>weight: <%= ei.weight %>kg</span>
          <% end %>
          <% if ei.exercise.category.name == 'Total Body' %>
            <span>reps: <%= ei.reps %></span>
            <span>weight: <%= ei.weight %>kg</span>
          <% end %>


          <% if ei.exercise.category.name == 'Cardio' %>
            <span>time: <%= ei.time%></span>
            <span>distance: <%= ei.distance %></span>
            <span>calories: <%= ei.calories %></span>
          <% end %>

          <% if ei.exercise.category.name == 'Yoga/Stretches' %>
            <span>time: <%= ei.time%></span>
            <span>distance: <%= ei.distance %></span>
            <span>calories: <%= ei.calories %></span>
          <% end %>

        </div>
      <% end %>
    </section>
  <% else %>
    <p>No Exercises for .</p>
  <% end %>
</section>

<div>
  <%= link_to "Back to Calendar" , exercise_log_exercise_instances_path(@exercise_log) %>
</div>

<footer class="footer">
  <nav>
    <ul>
      <li>1</li>
      <li>2</li>
      <li>3</li>
      <li>4</li>
      <li>5</li>
    </ul>
  </nav>
</footer>